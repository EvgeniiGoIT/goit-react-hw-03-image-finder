{"version":3,"sources":["Components/PhotoCard/PhotoCard.module.css","Components/Modal/Modal.module.css","Components/SearchForm/SearchForm.module.css","Components/Gallery/Gallery.module.css","Components/App/App.module.css","Services/helps.js","Components/SearchForm/SearchForm.jsx","Components/PhotoCard/PhotoCard.jsx","Components/Gallery/Gallery.jsx","Components/Modal/Modal.jsx","Components/App/App.jsx","index.js"],"names":["module","exports","propertyHelp","images","map","webformatURL","previewURL","largeImageURL","likes","views","tags","comments","downloads","id","uuidv1","fetchImg","query","page","fetch","then","res","json","data","hits","SearchForm","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","style","searchForm","this","type","autoComplete","placeholder","onChange","Component","PhotoCard","image","onOpenModal","photoCard","src","alt","stats","statsItem","fullscreenButton","onClick","Gallery","gallery","key","MODAL_ROOT","document","querySelector","Modal","overlayRef","createRef","handleKeyPress","code","onCloseModal","handleOverlayClick","current","window","addEventListener","removeEventListener","createPortal","overlay","ref","modal","App","appRef","handleOpenModal","handleCloseModal","fetchImages","finally","scrollHeight","scrollTo","top","behavior","findImage","find","prevProps","prevState","app","length","ReactDOM","render","getElementById"],"mappings":"sIACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,sC,sBCAxJD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,WAAa,iC,gBCA/BD,EAAOC,QAAU,CAAC,QAAU,2B,gBCA5BD,EAAOC,QAAU,CAAC,IAAM,mB,4LCClBC,EAAe,SAAAC,GAAM,OACzBA,EAAOC,KACL,gBACcC,EADd,EACEC,WACAC,EAFF,EAEEA,cACAC,EAHF,EAGEA,MACAC,EAJF,EAIEA,MACAC,EALF,EAKEA,KACAC,EANF,EAMEA,SACAC,EAPF,EAOEA,UAPF,MAQO,CACLC,GAAIC,MACJT,eACAE,gBACAC,QACAC,QACAC,OACAC,WACAC,iBAOAG,EAAW,SAACC,EAAOC,GACvB,OAAOC,MAAM,GAAD,OAHZ,yEAGY,OAFE,qCAEF,cAAgCF,EAAhC,iBAA8CC,EAA9C,iBACTE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIA,EAAKC,S,iBC3BFC,E,2MACnBC,MAAQ,CACNT,MAAO,I,EAGTU,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEZ,MAAOW,EAAEE,OAAOC,S,EAGlCC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKT,MAAMT,OAC/B,EAAKY,SAAS,CAAEZ,MAAO,M,wEAIvB,OACE,0BAAMmB,UAAWC,IAAMC,WAAYH,SAAUI,KAAKP,cAChD,2BACEQ,KAAK,OACLC,aAAa,MACbC,YAAY,mBACZC,SAAUJ,KAAKZ,oB,GAtBeiB,a,gBCkDzBC,EAjDG,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAClBjC,EAA8DgC,EAA9DhC,GAAIR,EAA0DwC,EAA1DxC,aAAcG,EAA4CqC,EAA5CrC,MAAOC,EAAqCoC,EAArCpC,MAAOC,EAA8BmC,EAA9BnC,KAAMC,EAAwBkC,EAAxBlC,SAAUC,EAAciC,EAAdjC,UACxD,OACE,yBAAKuB,UAAWC,IAAMW,WACpB,yBAAKC,IAAK3C,EAAc4C,IAAKvC,IAE7B,yBAAKyB,UAAWC,IAAMc,OACpB,uBAAGf,UAAWC,IAAMe,WAClB,uBAAGhB,UAAU,kBAAb,YACC3B,GAEH,uBAAG2B,UAAWC,IAAMe,WAClB,uBAAGhB,UAAU,kBAAb,cACC1B,GAEH,uBAAG0B,UAAWC,IAAMe,WAClB,uBAAGhB,UAAU,kBAAb,WACCxB,GAEH,uBAAGwB,UAAWC,IAAMe,WAClB,uBAAGhB,UAAU,kBAAb,kBACCvB,IAIL,4BACE2B,KAAK,SACLJ,UAAWC,IAAMgB,iBACjBC,QAAS,kBAAMP,EAAYjC,KAE3B,uBAAGsB,UAAU,kBAAb,mB,iBCLOmB,EAxBC,SAAC,GAAD,IAAGnD,EAAH,EAAGA,OAAQ2C,EAAX,EAAWA,YAAX,OACd,wBAAIX,UAAWC,IAAMmB,SAClBpD,EAAOC,KAAI,SAAAyC,GAAK,OACf,wBAAIW,IAAKX,EAAMhC,IACb,kBAAC,EAAD,CAAWgC,MAAOA,EAAOC,YAAaA,U,gBCLxCW,EAAaC,SAASC,cAAc,eAmD3BC,E,2MA1CbC,WAAaC,sB,EAUbC,eAAiB,SAAApC,GACA,WAAXA,EAAEqC,MAIN,EAAK/B,MAAMgC,gB,EAGbC,mBAAqB,SAAAvC,GACf,EAAKkC,WAAWM,SAAWxC,EAAEE,SAAW,EAAKgC,WAAWM,SAI5D,EAAKlC,MAAMgC,gB,mFApBXG,OAAOC,iBAAiB,UAAW/B,KAAKyB,kB,6CAIxCK,OAAOE,oBAAoB,UAAWhC,KAAKyB,kB,+BAmBnC,IAAD,EACczB,KAAKL,MAAlBe,EADD,EACCA,IAAKC,EADN,EACMA,IACb,OAAOsB,uBACL,yBACEpC,UAAWC,IAAMoC,QACjBC,IAAKnC,KAAKuB,WACVR,QAASf,KAAK4B,oBAEd,yBAAK/B,UAAWC,IAAMsC,OACpB,yBAAK1B,IAAKA,EAAKC,IAAKA,MAGxBQ,O,GA7Ccd,a,iBC0ELgC,E,2MAxEblD,MAAQ,CACNtB,OAAQ,GACRa,MAAO,GACPC,KAAM,EACNyD,OAAO,EACP7D,GAAI,I,EAGN+D,OAASd,sB,EAOT/B,aAAe,SAAAf,GACb,EAAKY,SAAS,CAAEZ,QAAOb,OAAQ,GAAIc,KAAM,EAAGJ,GAAI,M,EAGlDgE,gBAAkB,SAAAhE,GAChB,EAAKe,SAAS,CAAEf,KAAI6D,OAAO,K,EAG7BI,iBAAmB,WACjB,EAAKlD,SAAS,CAAE8C,OAAO,K,EAGzBK,YAAc,WAAO,IAAD,EACM,EAAKtD,MAArBT,EADU,EACVA,MAAOC,EADG,EACHA,KACfF,EAASC,EAAOC,GACbE,MAAK,SAAAhB,GACJ,EAAKyB,UAAS,SAAAH,GAAK,MAAK,CACtBtB,OAAO,GAAD,mBAAMsB,EAAMtB,QAAZ,YAAuBD,EAAaC,KAC1Cc,KAAMQ,EAAMR,KAAO,SAGtB+D,SAAQ,WAAO,IACNC,EAAiB,EAAKL,OAAOT,QAA7Bc,aACRb,OAAOc,SAAS,CACdC,IAAKF,EACLG,SAAU,e,EAKlBC,UAAY,SAAAxE,GAAE,OAAI,EAAKY,MAAMtB,OAAOmF,MAAK,SAAAzC,GAAK,OAAIA,EAAMhC,KAAOA,M,kFAnC5C0E,EAAWC,GACxBA,EAAUxE,QAAUsB,KAAKb,MAAMT,OACjCsB,KAAKyC,gB,+BAkCC,IAAD,EACuBzC,KAAKb,MAA3BtB,EADD,EACCA,OAAQuE,EADT,EACSA,MAAO7D,EADhB,EACgBA,GADhB,EAEyBA,EAAKyB,KAAK+C,UAAUxE,GAAM,GAAlDN,EAFD,EAECA,cAAeG,EAFhB,EAEgBA,KACvB,OACE,yBAAKyB,UAAWC,IAAMqD,IAAKhB,IAAKnC,KAAKsC,QAClCF,GACC,kBAAC,EAAD,CACE1B,IAAKzC,EACL0C,IAAKvC,EACLuD,aAAc3B,KAAKwC,mBAGvB,kBAAC,EAAD,CAAY5C,SAAUI,KAAKP,eAC1B5B,EAAOuF,OAAS,GACf,kBAAC,EAAD,CAASvF,OAAQA,EAAQ2C,YAAaR,KAAKuC,kBAE5C1E,EAAOuF,OAAS,GACf,4BAAQnD,KAAK,SAASc,QAASf,KAAKyC,aAApC,2B,GAhEQpC,a,MCFlBgD,IAASC,OAAO,kBAAC,EAAD,MAASlC,SAASmC,eAAe,W","file":"static/js/main.c1305314.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__iEDKh\",\"stats\":\"PhotoCard_stats__2mGiL\",\"statsItem\":\"PhotoCard_statsItem__1rPa7\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3tZ3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1ZkwK\",\"modal\":\"Modal_modal__2i96O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__318Vc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2_ssk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2Z6Bx\"};","import uuidv1 from 'uuid/v1';\r\n\r\nconst propertyHelp = images =>\r\n  images.map(\r\n    ({\r\n      previewURL: webformatURL,\r\n      largeImageURL,\r\n      likes,\r\n      views,\r\n      tags,\r\n      comments,\r\n      downloads,\r\n    }) => ({\r\n      id: uuidv1(),\r\n      webformatURL,\r\n      largeImageURL,\r\n      likes,\r\n      views,\r\n      tags,\r\n      comments,\r\n      downloads,\r\n    }),\r\n  );\r\n\r\nconst DEFAULT_PATH =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&key=';\r\nconst API_KEY = '12932265-6a67b47d81c2d99d25931322f';\r\nconst fetchImg = (query, page) => {\r\n  return fetch(`${DEFAULT_PATH}${API_KEY}&q=${query}&page=${page}&per_page=12`)\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport { propertyHelp, fetchImg };\r\n","import React, { Component } from 'react';\r\nimport style from './SearchForm.module.css'\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={style.searchForm} onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images...\"\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport style from './PhotoCard.module.css';\r\nimport T from 'prop-types';\r\n\r\nconst PhotoCard = ({ image, onOpenModal }) => {\r\n  const { id, webformatURL, likes, views, tags, comments, downloads } = image;\r\n  return (\r\n    <div className={style.photoCard}>\r\n      <img src={webformatURL} alt={tags} />\r\n\r\n      <div className={style.stats}>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">thumb_up</i>\r\n          {likes}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">visibility</i>\r\n          {views}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">comment</i>\r\n          {comments}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">cloud_download</i>\r\n          {downloads}\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className={style.fullscreenButton}\r\n        onClick={() => onOpenModal(id)}\r\n      >\r\n        <i className=\"material-icons\">zoom_out_map</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nPhotoCard.propTypes = {\r\n  image: T.shape({\r\n    id: T.string.isRequired,\r\n    webformatURL: T.string.isRequired,\r\n    likes: T.number.isRequired,\r\n    views: T.number.isRequired,\r\n    tags: T.string.isRequired,\r\n    comments: T.number.isRequired,\r\n    downloads: T.number.isRequired,\r\n  }).isRequired,\r\n  onOpenModal: T.func.isRequired,\r\n};\r\n\r\nexport default PhotoCard;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport style from './Gallery.module.css';\r\n\r\nconst Gallery = ({ images, onOpenModal }) => (\r\n  <ul className={style.gallery}>\r\n    {images.map(image => (\r\n      <li key={image.id}>\r\n        <PhotoCard image={image} onOpenModal={onOpenModal} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  images: T.arrayOf(\r\n    T.shape({\r\n      id: T.string.isRequired,\r\n      webformatURL: T.string.isRequired,\r\n      likes: T.number.isRequired,\r\n      views: T.number.isRequired,\r\n      tags: T.string.isRequired,\r\n      comments: T.number.isRequired,\r\n      downloads: T.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onOpenModal: T.func.isRequired,\r\n};\r\nexport default Gallery;\r\n","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport T from 'prop-types';\r\nimport style from './Modal.module.css';\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    src: T.string.isRequired,\r\n    alt: T.string.isRequired,\r\n    onCloseModal: T.func.isRequired,\r\n  };\r\n\r\n  overlayRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (this.overlayRef.current && e.target !== this.overlayRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={style.overlay}\r\n        ref={this.overlayRef}\r\n        onClick={this.handleOverlayClick}\r\n      >\r\n        <div className={style.modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component, createRef } from 'react';\r\nimport { propertyHelp, fetchImg } from '../../Services/helps';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Gallery from '../Gallery/Gallery';\r\nimport Modal from '../Modal/Modal';\r\nimport style from './App.module.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    query: '',\r\n    page: 1,\r\n    modal: false,\r\n    id: '',\r\n  };\r\n\r\n  appRef = createRef();\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n  handleSubmit = query => {\r\n    this.setState({ query, images: [], page: 1, id: '' });\r\n  };\r\n\r\n  handleOpenModal = id => {\r\n    this.setState({ id, modal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ modal: false });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { query, page } = this.state;\r\n    fetchImg(query, page)\r\n      .then(images => {\r\n        this.setState(state => ({\r\n          images: [...state.images, ...propertyHelp(images)],\r\n          page: state.page + 1,\r\n        }));\r\n      })\r\n      .finally(() => {\r\n        const { scrollHeight } = this.appRef.current;\r\n        window.scrollTo({\r\n          top: scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  findImage = id => this.state.images.find(image => image.id === id);\r\n  render() {\r\n    const { images, modal, id } = this.state;\r\n    const { largeImageURL, tags } = id ? this.findImage(id) : '';\r\n    return (\r\n      <div className={style.app} ref={this.appRef}>\r\n        {modal && (\r\n          <Modal\r\n            src={largeImageURL}\r\n            alt={tags}\r\n            onCloseModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n        <SearchForm onSubmit={this.handleSubmit} />\r\n        {images.length > 0 && (\r\n          <Gallery images={images} onOpenModal={this.handleOpenModal} />\r\n        )}\r\n        {images.length > 0 && (\r\n          <button type=\"button\" onClick={this.fetchImages}>\r\n            Load more articles\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Components/App/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}